<!doctype html><html lang="en">
<!-- Mirrored from compound.finance/docs/prices by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Nov 2020 22:06:21 GMT -->
<head><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1,width=device-width,height=device-height"><meta property="og:title" content="Compound | Docs - Open Price Feed"><meta property="og:description" content="Compound is an algorithmic, autonomous interest rate protocol built for developers, to unlock a universe of open financial applications."><meta property="og:image" content="../images/meta-tag.png"><meta property="og:url" content="../index.html"><meta name="twitter:card" content="summary_large_image"><link rel="apple-touch-icon" sizes="192x192" href="../images/compound-192.png"><link rel="apple-touch-icon" sizes="512x512" href="../images/compound-512.png"><link rel="manifest" href="../manifest.json"><link rel="shortcut icon" href="../favicon.ico"><title>Compound | Docs - Open Price Feed</title><meta name="description" content="Compound is an algorithmic, autonomous interest rate protocol built for developers, to unlock a universe of open financial applications."><link href="../static/css/landing.dc072784.chunk.css" rel="stylesheet"></head><body><noscript>You need to enable JavaScript to run this app. Compound is a web application. This app requires JavaScript to run.</noscript><div id="main"><header id="header" class="landing  light"><div class="container-large"><div class="row align-middle"><div class="col-sm-3 col-xs-10 logo"><a href="../index.html" class="brand"></a></div><div class="mobile-hide col-xs-6 text-center links"><a class="" href="../markets.html">Markets</a><a class="" href="../governance.html">Governance</a><a class="" href="../developers.html">Developers</a><a class="" href="../prices.html">Prices</a><a class="active" href="../docs.html">Docs</a></div><div class="mobile-hide col-xs-3 text-right"><a class="dapp button hollow" rel="external" href="../../app.compound.finance/index.html">App</a></div><div class="mobile-only col-xs-2 hamburger "><span></span><span></span><span></span></div></div></div><div class="mobile-header   light"><div class="links"><ul><a href="../index.html"><li><p>Home</p></li></a><a href="../markets.html"><li><p>Markets</p></li></a><a href="../governance.html"><li><p>Governance</p></li></a><a href="../developers.html"><li><p>Developers</p></li></a><a href="../prices.html"><li><p>Prices</p></li></a><a href="../docs.html"><li><p>Docs</p></li></a></ul></div><a class="dapp button hollow" rel="external" href="../../app.compound.finance/index.html">App</a></div></header><div class="documentation" id="documentation"><span></span><div id="docs-navigation" class="docs-navigation"><div class="container-large docs-navigation__content"><a class="mobile-hide" href="../docs.html">Getting Started</a><a class="mobile-hide" href="ctokens.html">cTokens</a><a class="mobile-hide" href="comptroller.html">Comptroller</a><a class="mobile-hide" href="governance.html">Governance</a><a class="mobile-hide active" href="prices.html">Open Price Feed</a><a class="mobile-hide" href="api.html">API</a><a class="mobile-hide" href="compound-js.html">Compound.js</a><a class="" href="security.html">Security</a><div class="chevron-container"><div class="chevron"></div></div></div><div class="docs-navigation__content--mobile"><a class="" href="../docs.html">Getting Started</a><a class="" href="ctokens.html">cTokens</a><a class="" href="comptroller.html">Comptroller</a><a class="" href="governance.html">Governance</a><a class=" active" href="prices.html">Open Price Feed</a><a class="" href="api.html">API</a><a class="" href="compound-js.html">Compound.js</a><a class="" href="security.html">Security</a></div></div><div class="docs container-large"><div class="row"><div class="side-navigation col-sm-3"><div id="docs-side-navigation" class="side-navigation__content"><a class="section" href="#introduction">Introduction</a><a class="section" href="#architecture">Architecture</a><a class="section" href="#post-prices">Post Prices</a><a class="section" href="#price">Get Price</a><a class="section" href="#underlying-price">Get Underlying Price</a><a class="section" href="#config">Get Config</a><a class="section" href="#invalidate">Invalidate Reporter</a><a class="section" href="#reporter">Get Reporter</a><a class="section" href="#anchor-period">Get Anchor Period</a><a class="section" href="#anchor-bounds">Get Anchor Bounds</a></div></div><div class="col-xs-12 col-sm-9 content"><section id="introduction"><label class="big">Open Price Feed</label><h2 class="subheader">Introduction</h2><p>The Open Price Feed allows Reporters to sign price data using a known public key, which Posters (any Ethereum address) can submit on-chain.
The protocol codebase is hosted on <a target="_blank" rel="external" href="https://github.com/compound-finance/open-oracle">GitHub</a>, and maintained by the community.</p><p>Coinbase Pro is the first Reporter using the Open Price Feed format, signing prices every few minutes for assets traded on the exchange.
Additional exchanges are developing their own Reporters for their own trading pairs, and new views can be deployed to use their prices.</p><table class="key-events-table"><thead><tr><th>Reporter Endpoint</th><th>Reporter Key</th><th>Supported Tokens</th></tr></thead><tbody><tr><td><p><a target="_blank" rel="external" href="https://docs.pro.coinbase.com/#oracle">Coinbase Pro</a></p></td><td><p><span class="inline-code">0xfCEAdAFab14d46e20144F48824d0C09B1a03F2BC</span></p></td><td><p><span class="inline-code">BTC</span>, <span class="inline-code">ETH</span>, <span class="inline-code">DAI</span>, <span class="inline-code">REP</span>, <span class="inline-code">ZRX</span>, <span class="inline-code">BAT</span>, <span class="inline-code">KNC</span>, <span class="inline-code">LINK</span>, <span class="inline-code">COMP</span>, <span class="inline-code">UNI</span></p></td></tr><tr><td><p><a target="_blank" rel="external" href="https://www.okex.com/api/market/v3/oracle">OKEx</a>*</p></td><td><p><span class="inline-code">0x419c555b739212684432050b7ce459ea8e7b8bda</span></p></td><td><p><span class="inline-code">BTC</span>, <span class="inline-code">ETH</span>, <span class="inline-code">DAI</span>, <span class="inline-code">ZRX</span>, <span class="inline-code">BAT</span>, <span class="inline-code">KNC</span>, <span class="inline-code">LINK</span>, <span class="inline-code">COMP</span></p></td></tr></tbody></table><p>The above endpoints are also mirrored at <span class="inline-code">prices.compound.finance</span>.</p><p>* Signing and publishing prices, but not yet a designated reporter in <span class="inline-code">UniswapAnchoredView</span>.</p><p>The Compound Protocol uses a View contract ("Price Feed") which verifies that reported prices fall within an acceptable bound of the time-weighted average price of the token/ETH pair on Uniswap v2, a sanity check referred to as the Anchor price.
The contracts can be found on-chain as follows:</p><table class="key-events-table"><thead><tr><th>Contract name</th><th>address</th></tr></thead><tbody><tr><td><p>OpenOraclePriceData</p></td><td><p><a target="_blank" rel="external" href="https://etherscan.io/address/0xc629c26dced4277419cde234012f8160a0278a79">0xc629c26dced4277419cde234012f8160a0278a79</a></p></td></tr><tr><td><p>UniswapAnchoredView</p></td><td><p><a target="_blank" rel="external" href="https://etherscan.io/address/0x922018674c12a7f0d394ebeef9b58f186cde13c1">0x922018674c12a7f0d394ebeef9b58f186cde13c1</a></p></td></tr></tbody></table></section><section id="architecture"><h2 class="subheader">Architecture</h2><p>The Open Price Feed consists of two main contracts.</p><div class="ul-container"><ul><li><span class="inline-code">OpenOraclePriceData</span> is a neutral price storage contract that stores prices signed by any address.</li><li><span class="inline-code">UniswapAnchoredView</span> only stores prices that are within an acceptable bound of the Uniswap time-weighted average price and are signed by a reporter. Also contains logic that upscales the posted prices into the format that Compound's Comptroller expects.</li></ul></div><p>This architecture allows multiple views to use the same underlying price data, but to verify the prices in their own way.</p></section><section id="post-prices"><h2 class="subheader">Post Prices</h2><p>Posts an array of prices to <span class="inline-code">OpenOraclePriceData</span> and saves them to <span class="inline-code">UniswapAnchoredView</span> if the prices are within a bound of the anchor price and are signed by a reporter. Prices are expected to be in USD with 6 decimals of precision.</p><div class="ul-container"><ul><li><span class="inline-code">messages[]</span>: The array of prices to sign. Each message is a <span class="inline-code">bytes[]</span> with the format: <span class="inline-code">(string memory kind, uint64 timestamp, string memory key, uint64 value)</span></li><li><span class="inline-code">signatures[]</span>: An array of signatures corresponding to the messages. Each signature is a <span class="inline-code">bytes[]</span> with the format <span class="inline-code">(bytes32 r, bytes32 s, uint8 v)</span>.</li><li><span class="inline-code">symbols[]</span>: An array of symbols corresponding to the price messages.</li></ul></div><p class="notice"><p>Post prices manually from the browser with this <a target="_blank" rel="external" href="https://observablehq.com/@jflatow/compound-price-feed">notebook</a>.</p></p><h4>UniswapAnchoredView</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">postPrices</span>(<span class="elmsh7 elmsh-sol-p">bytes[]</span> <span class="elmsh7 elmsh-sol-p">calldata</span> <span class="elmsh7 elmsh-sol-p">messages</span>, <span class="elmsh7 elmsh-sol-p">bytes[]</span> <span class="elmsh7 elmsh-sol-p">calldata</span> <span class="elmsh7 elmsh-sol-p">signatures</span>, <span class="elmsh7 elmsh-sol-p">string[]</span> <span class="elmsh7 elmsh-sol-p">calldata</span> <span class="elmsh7 elmsh-sol-p">symbols</span>)</div></code></pre><h4>Web3 1.0</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-js-dk">const</span> view <span class="elmsh3 elmsh-js-k">=</span> UniswapAnchoredView.<span class="elmsh5 elmsh-js-fe">at</span>(<span class="elmsh1 elmsh-js-n">0xABCD</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-js-dk">const</span> res <span class="elmsh3 elmsh-js-k">=</span> <span class="elmsh3 elmsh-js-k">await</span> <span class="elmsh5 elmsh-js-fe">fetch</span>(<span class="elmsh2 elmsh-js-s">"https://prices.compound.finance"</span>);
</div><div class="elmsh-line" data-elmsh-lc="3"><span class="elmsh4 elmsh-js-dk">const</span> {coinbase, okex} <span class="elmsh3 elmsh-js-k">=</span> <span class="elmsh3 elmsh-js-k">await</span> res.<span class="elmsh5 elmsh-js-fe">json</span>();
</div><div class="elmsh-line" data-elmsh-lc="4"><span class="elmsh4 elmsh-js-dk">const</span> symbols <span class="elmsh3 elmsh-js-k">=</span> [<span class="elmsh2 elmsh-js-s">'BTC'</span>, <span class="elmsh2 elmsh-js-s">'ETH'</span>, <span class="elmsh2 elmsh-js-s">'DAI'</span>, <span class="elmsh2 elmsh-js-s">'REP'</span>, <span class="elmsh2 elmsh-js-s">'ZRX'</span>, <span class="elmsh2 elmsh-js-s">'BAT'</span>, <span class="elmsh2 elmsh-js-s">'KNC'</span>, <span class="elmsh2 elmsh-js-s">'LINK'</span>, <span class="elmsh2 elmsh-js-s">'COMP'</span>];
</div><div class="elmsh-line" data-elmsh-lc="5"><span class="elmsh3 elmsh-js-k">await</span> view.methods.<span class="elmsh5 elmsh-js-fe">postPrices</span>(coinbase.messages, coinbase.signatures, symbols).<span class="elmsh5 elmsh-js-fe">send</span>({from<span class="elmsh3 elmsh-js-k">:</span> ...});</div></code></pre></section><section id="price"><h2 class="subheader">Price</h2><p>Get the most recent price for a token in USD with 6 decimals of precision.</p><div class="ul-container"><ul><li><span class="inline-code">symbol</span>: Symbol as a string</li></ul></div><h4>UniswapAnchoredView</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">price</span>(<span class="elmsh7 elmsh-sol-p">string</span> <span class="elmsh7 elmsh-sol-p">memory</span> <span class="elmsh7 elmsh-sol-p">symbol</span>) external view <span class="elmsh5 elmsh-sol-fe">returns</span> (<span class="elmsh4 elmsh-sol-dk">uint</span>)</div></code></pre><h4>Solidity</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1">UniswapAnchoredView view <span class="elmsh3 elmsh-sol-k">=</span> <span class="elmsh5 elmsh-sol-fe">UniswapAnchoredView</span>(<span class="elmsh1 elmsh-sol-n">0xABCD</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-sol-dk">uint</span> price <span class="elmsh3 elmsh-sol-k">=</span> view.<span class="elmsh5 elmsh-sol-fe">price</span>(<span class="elmsh2 elmsh-sol-s">"ETH"</span>);</div></code></pre><h4>Web3 1.0</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-js-dk">const</span> view <span class="elmsh3 elmsh-js-k">=</span> UniswapAnchoredView.<span class="elmsh5 elmsh-js-fe">at</span>(<span class="elmsh1 elmsh-js-n">0xABCD</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh-comm">//eg: returns 200e6</span>
</div><div class="elmsh-line" data-elmsh-lc="3"><span class="elmsh4 elmsh-js-dk">const</span> price <span class="elmsh3 elmsh-js-k">=</span> <span class="elmsh3 elmsh-js-k">await</span> view.methods.<span class="elmsh5 elmsh-js-fe">price</span>(<span class="elmsh2 elmsh-js-s">"ETH"</span>).<span class="elmsh5 elmsh-js-fe">call</span>();</div></code></pre></section><section id="underlying-price"><h2 class="subheader">Underlying Price</h2><p>Get the most recent price for a token in USD with 18 decimals of precision.</p><div class="ul-container"><ul><li><span class="inline-code">cToken</span>: The address of the cToken contract of the underlying asset.</li></ul></div><h4>UniswapAnchoredView</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">getUnderlyingPrice</span>(<span class="elmsh7 elmsh-sol-p">address</span> <span class="elmsh7 elmsh-sol-p">cToken</span>) external view <span class="elmsh5 elmsh-sol-fe">returns</span> (<span class="elmsh4 elmsh-sol-dk">uint</span>)</div></code></pre><h4>Solidity</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1">UniswapAnchoredView view <span class="elmsh3 elmsh-sol-k">=</span> <span class="elmsh5 elmsh-sol-fe">UniswapAnchoredView</span>(<span class="elmsh1 elmsh-sol-n">0xABCD</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-sol-dk">uint</span> price <span class="elmsh3 elmsh-sol-k">=</span> view.<span class="elmsh5 elmsh-sol-fe">getUnderlyingPrice</span>(<span class="elmsh1 elmsh-sol-n">0x1230</span>...);</div></code></pre><h4>Web3 1.0</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-js-dk">const</span> view <span class="elmsh3 elmsh-js-k">=</span> UniswapAnchoredView.<span class="elmsh5 elmsh-js-fe">at</span>(<span class="elmsh1 elmsh-js-n">0xABCD</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh-comm">//eg: returns 400e6</span>
</div><div class="elmsh-line" data-elmsh-lc="3"><span class="elmsh4 elmsh-js-dk">const</span> price <span class="elmsh3 elmsh-js-k">=</span> <span class="elmsh3 elmsh-js-k">await</span> view.methods.<span class="elmsh5 elmsh-js-fe">getUnderlyingPrice</span>(<span class="elmsh2 elmsh-js-s">"0x1230..."</span>).<span class="elmsh5 elmsh-js-fe">call</span>();</div></code></pre></section><section id="config"><h2 class="subheader">Config</h2><p>Each token the Open Price Feed supports needs corresponding configuration metadata. The configuration for each token is set in the constructor and is immutable.</p><p>The fields of the config are:</p><div class="ul-container"><ul><li><span class="inline-code">cToken</span>: The address of the underlying token's corresponding cToken. This field is null for tokens that are not supported as cTokens.</li><li><span class="inline-code">underlying</span>: Address of the token whose price is being reported.</li><li><span class="inline-code">symbolHash</span>: The <span class="inline-code">keccak256</span> of the byte-encoded string of the token's symbol.</li><li><span class="inline-code">baseUnit</span>: The number of decimals of precision that the underlying token has. Eg: USDC has 6 decimals.</li><li><span class="inline-code">PriceSource</span>: An enum describing the whether or not to special case the prices for this token. <span class="inline-code">FIXED_ETH</span> is used to set the SAI price to a fixed amount of ETH, and <span class="inline-code">FIXED_USD</span> is used to peg stablecoin prices to $1. <span class="inline-code">REPORTER</span> is used for all other assets to indicate the reported prices and Uniswap anchoring should be used.</li><li><span class="inline-code">fixedPrice</span>: The fixed dollar amount to use if <span class="inline-code">PriceSource</span> is <span class="inline-code">FIXED_USD</span> or the number of ETH in the case of <span class="inline-code">FIXED_ETH</span> (namely for SAI).</li><li><span class="inline-code">uniswapMarket</span>: The token's market on Uniswap, used for price anchoring. Only filled if <span class="inline-code">PriceSource</span> is <span class="inline-code">REPORTER</span>.</li><li><span class="inline-code">isUniswapReversed</span>: A boolean indicating the order of the market's reserves.</li></ul></div><h4>UniswapAnchoredView</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"> <span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">getTokenConfigBySymbol</span>(<span class="elmsh7 elmsh-sol-p">string</span> <span class="elmsh7 elmsh-sol-p">memory</span> <span class="elmsh7 elmsh-sol-p">symbol</span>) <span class="elmsh3 elmsh-sol-k">public</span> view <span class="elmsh5 elmsh-sol-fe">returns</span> (TokenConfig <span class="elmsh3 elmsh-sol-k">memory</span>)
</div><div class="elmsh-line" data-elmsh-lc="2"> <span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">getTokenConfigBySymbolHash</span>(<span class="elmsh7 elmsh-sol-p">bytes32</span> <span class="elmsh7 elmsh-sol-p">symbolHash</span>) <span class="elmsh3 elmsh-sol-k">public</span> view <span class="elmsh5 elmsh-sol-fe">returns</span> (TokenConfig <span class="elmsh3 elmsh-sol-k">memory</span>)
</div><div class="elmsh-line" data-elmsh-lc="3"> <span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">getTokenConfigByCToken</span>(<span class="elmsh7 elmsh-sol-p">address</span> <span class="elmsh7 elmsh-sol-p">cToken</span>) <span class="elmsh3 elmsh-sol-k">public</span> view <span class="elmsh5 elmsh-sol-fe">returns</span> (TokenConfig <span class="elmsh3 elmsh-sol-k">memory</span>)</div></code></pre><h4>Web3 1.0</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-js-dk">const</span> view <span class="elmsh3 elmsh-js-k">=</span> UniswapAnchoredView.<span class="elmsh5 elmsh-js-fe">at</span>(<span class="elmsh1 elmsh-js-n">0xABCD</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-js-dk">const</span> config <span class="elmsh3 elmsh-js-k">=</span> <span class="elmsh3 elmsh-js-k">await</span> view.methods.<span class="elmsh5 elmsh-js-fe">getTokenConfigBySymbol</span>(<span class="elmsh2 elmsh-js-s">"ETH"</span>).<span class="elmsh5 elmsh-js-fe">call</span>();</div></code></pre><h4>Solidity</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1">UniswapAnchoredView view <span class="elmsh3 elmsh-sol-k">=</span> <span class="elmsh5 elmsh-sol-fe">UniswapAnchoredView</span>(<span class="elmsh1 elmsh-sol-n">0xABCD</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-sol-dk">uint</span> price <span class="elmsh3 elmsh-sol-k">=</span> view.<span class="elmsh5 elmsh-sol-fe">getTokenConfigBySymbol</span>(<span class="elmsh2 elmsh-sol-s">"ETH"</span>);</div></code></pre></section><section id="invalidate"><h2 class="subheader">Invalidate Reporter</h2><p>Posts a message signed by the reporter that invalidates the reporter's prices and causes the anchor price to be used directly instead. To be used in cases of emergency, if the reporter thinks their key may be compromised. Any Ethereum address can send the invalidation message.</p><div class="ul-container"><ul><li><span class="inline-code">message</span>: The invalidation message</li><li><span class="inline-code">signature</span>: A signature of the invalidation message</li></ul></div><h4>UniswapAnchoredView</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">invalidateReporter</span>(<span class="elmsh7 elmsh-sol-p">bytes</span> <span class="elmsh7 elmsh-sol-p">memory</span> <span class="elmsh7 elmsh-sol-p">message</span>, <span class="elmsh7 elmsh-sol-p">bytes</span> <span class="elmsh7 elmsh-sol-p">memory</span> <span class="elmsh7 elmsh-sol-p">signature</span>) external</div></code></pre><h4>Web3 1.0</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-js-dk">const</span> view <span class="elmsh3 elmsh-js-k">=</span> UniswapAnchoredView.<span class="elmsh5 elmsh-js-fe">at</span>(<span class="elmsh1 elmsh-js-n">0xABCD</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh3 elmsh-js-k">await</span> view.methods.<span class="elmsh5 elmsh-js-fe">invalidateReporter</span>(message, signature).<span class="elmsh5 elmsh-js-fe">call</span>();</div></code></pre></section><section id="reporter"><h2 class="subheader">Reporter</h2><p>Get the reporter's address. Currently Coinbase Pro's address.</p><h4>UniswapAnchoredView</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">reporter</span>() <span class="elmsh5 elmsh-sol-fe">returns</span> (<span class="elmsh4 elmsh-sol-dk">uint</span>)</div></code></pre><h4>Web3 1.0</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-js-dk">const</span> view <span class="elmsh3 elmsh-js-k">=</span> UniswapAnchoredView.<span class="elmsh5 elmsh-js-fe">at</span>(<span class="elmsh1 elmsh-js-n">0xABCD</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-js-dk">const</span> reporter <span class="elmsh3 elmsh-js-k">=</span> <span class="elmsh3 elmsh-js-k">await</span> view.methods.<span class="elmsh5 elmsh-js-fe">reporter</span>().<span class="elmsh5 elmsh-js-fe">call</span>();
</div><div class="elmsh-line" data-elmsh-lc="3"></div></code></pre><h4>Solidity</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1">UniswapAnchoredView view <span class="elmsh3 elmsh-sol-k">=</span> <span class="elmsh5 elmsh-sol-fe">UniswapAnchoredView</span>(<span class="elmsh1 elmsh-sol-n">0xABCD</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-sol-dk">uint</span> reporter <span class="elmsh3 elmsh-sol-k">=</span> view.<span class="elmsh5 elmsh-sol-fe">reporter</span>();</div></code></pre></section><section id="anchor-period"><h2 class="subheader">Anchor Period</h2><p>Get the anchor period, the minimum amount of time in seconds over which to take the time-weighted average price from Uniswap.</p><h4>UniswapAnchoredView</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">anchorPeriod</span>() <span class="elmsh5 elmsh-sol-fe">returns</span> (<span class="elmsh4 elmsh-sol-dk">uint</span>)</div></code></pre><h4>Web3 1.0</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-js-dk">const</span> view <span class="elmsh3 elmsh-js-k">=</span> UniswapAnchoredView.<span class="elmsh5 elmsh-js-fe">at</span>(<span class="elmsh1 elmsh-js-n">0xABCD</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-js-dk">const</span> anchorPeriod <span class="elmsh3 elmsh-js-k">=</span> <span class="elmsh3 elmsh-js-k">await</span> view.methods.<span class="elmsh5 elmsh-js-fe">anchorPeriod</span>().<span class="elmsh5 elmsh-js-fe">call</span>();</div></code></pre><h4>Solidity</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1">UniswapAnchoredView view <span class="elmsh3 elmsh-sol-k">=</span> <span class="elmsh5 elmsh-sol-fe">UniswapAnchoredView</span>(<span class="elmsh1 elmsh-sol-n">0xABCD</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-sol-dk">uint</span> anchorPeriod <span class="elmsh3 elmsh-sol-k">=</span> view.<span class="elmsh5 elmsh-sol-fe">anchorPeriod</span>();</div></code></pre></section><section id="anchor-bounds"><h2 class="subheader">Anchor Bounds</h2><p>Get the highest and lowest ratio of the reported price to the anchor price that will still trigger the price to be updated. Given in 18 decimals of precision (eg: 90% =&gt; 90e16).</p><h4>UniswapAnchoredView</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">upperBoundAnchorRatio</span>() <span class="elmsh5 elmsh-sol-fe">returns</span> (<span class="elmsh4 elmsh-sol-dk">uint</span>)
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">lowerBoundAnchorRatio</span>() <span class="elmsh5 elmsh-sol-fe">returns</span> (<span class="elmsh4 elmsh-sol-dk">uint</span>)</div></code></pre><h4>Web3 1.0</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-js-dk">const</span> view <span class="elmsh3 elmsh-js-k">=</span> UniswapAnchoredView.<span class="elmsh5 elmsh-js-fe">at</span>(<span class="elmsh1 elmsh-js-n">0xABCD</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-js-dk">const</span> upperBoundRatio <span class="elmsh3 elmsh-js-k">=</span> <span class="elmsh3 elmsh-js-k">await</span> view.methods.<span class="elmsh5 elmsh-js-fe">upperBoundAnchorRatio</span>().<span class="elmsh5 elmsh-js-fe">call</span>();
</div><div class="elmsh-line" data-elmsh-lc="3"></div></code></pre><h4>Solidity</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1">UniswapAnchoredView view <span class="elmsh3 elmsh-sol-k">=</span> <span class="elmsh5 elmsh-sol-fe">UniswapAnchoredView</span>(<span class="elmsh1 elmsh-sol-n">0xABCD</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-sol-dk">uint</span> upperBoundRatio <span class="elmsh3 elmsh-sol-k">=</span> view.<span class="elmsh5 elmsh-sol-fe">upperBoundAnchorRatio</span>();</div></code></pre></section><pre></pre></div></div></div></div><footer id="footer" class="landing"><div class="container-large"><div class="row top"><div class="col-sm-2 logo mobile-hide"><a href="../index.html" class="mark"></a></div><div class="col-xs-12 logo mobile-only"><a href="../index.html" class="brand"></a></div><div class="col-sm-8 col-xs-12 row links-holder"><div class="col-sm-3 col-xs-6 links"><p>Protocol</p><a href="../markets.html">Markets</a><a href="../prices.html">Prices</a><a href="../developers.html">Developers</a><a href="../docs.html">Docs</a></div><div class="col-sm-3 col-xs-6 links"><p>Governance</p><a href="../governance.html">Overview</a><a href="../governance/comp.html">COMP</a><a href="../governance/leaderboard.html">Leaderboard</a><a rel="external" href="https://www.comp.xyz/">Forums</a></div><div class="col-sm-3 col-xs-6 links"><p>Company</p><a href="../about.html">About</a><a href="../about.html#jobs">Careers</a></div></div><div class="mobile-hide col-xs-2 text-right"><a class="dapp button" rel="external" href="../../app.compound.finance/index.html">App</a></div></div><div class="bottom"><label class="small">© 2020 Compound Labs, Inc.</label><div class="social"><a class="icn discord" target="_blank" rel="external" href="https://discord.gg/cU7vmVW"></a><a class="icn github" target="_blank" rel="external" href="https://github.com/compound-finance/compound-protocol"></a><a class="icn medium" target="_blank" rel="external" href="https://medium.com/compound-finance"></a><a class="icn twitter" target="_blank" rel="external" href="https://twitter.com/compoundfinance"></a><div class="dropdown dropdown--network"><span class="dropdown__selected dropdown__selected--dark2"><span class="dot-indicator green"></span><label class="small">Mainnet</label></span><div class="dropdown__options dropdown__options--network dropdown__selected--dark2 "></div></div></div></div></div></footer></div><script src="../static/js/runtime_landing.20510066.js"></script><script src="../static/js/vendors_dapp_landing_polyfills.e9e68e69.chunk.js"></script><script src="../static/js/vendors_dapp_landing.2efa2a68.chunk.js"></script><script src="../static/js/landing.ce21e0fb.chunk.js"></script></body>
<!-- Mirrored from compound.finance/docs/prices by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Nov 2020 22:06:21 GMT -->
</html>