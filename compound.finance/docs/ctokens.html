<!doctype html><html lang="en">
<!-- Mirrored from compound.finance/docs/ctokens by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Nov 2020 22:06:21 GMT -->
<head><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1,width=device-width,height=device-height"><meta property="og:title" content="Compound | Docs - cTokens"><meta property="og:description" content="Compound is an algorithmic, autonomous interest rate protocol built for developers, to unlock a universe of open financial applications."><meta property="og:image" content="../images/meta-tag.png"><meta property="og:url" content="../index.html"><meta name="twitter:card" content="summary_large_image"><link rel="apple-touch-icon" sizes="192x192" href="../images/compound-192.png"><link rel="apple-touch-icon" sizes="512x512" href="../images/compound-512.png"><link rel="manifest" href="../manifest.json"><link rel="shortcut icon" href="../favicon.ico"><title>Compound | Docs - cTokens</title><meta name="description" content="Compound is an algorithmic, autonomous interest rate protocol built for developers, to unlock a universe of open financial applications."><link href="../static/css/landing.dc072784.chunk.css" rel="stylesheet"></head><body><noscript>You need to enable JavaScript to run this app. Compound is a web application. This app requires JavaScript to run.</noscript><div id="main"><header id="header" class="landing  light"><div class="container-large"><div class="row align-middle"><div class="col-sm-3 col-xs-10 logo"><a href="../index.html" class="brand"></a></div><div class="mobile-hide col-xs-6 text-center links"><a class="" href="../markets.html">Markets</a><a class="" href="../governance.html">Governance</a><a class="" href="../developers.html">Developers</a><a class="" href="../prices.html">Prices</a><a class="active" href="../docs.html">Docs</a></div><div class="mobile-hide col-xs-3 text-right"><a class="dapp button hollow" rel="external" href="../../app.compound.finance/index.html">App</a></div><div class="mobile-only col-xs-2 hamburger "><span></span><span></span><span></span></div></div></div><div class="mobile-header   light"><div class="links"><ul><a href="../index.html"><li><p>Home</p></li></a><a href="../markets.html"><li><p>Markets</p></li></a><a href="../governance.html"><li><p>Governance</p></li></a><a href="../developers.html"><li><p>Developers</p></li></a><a href="../prices.html"><li><p>Prices</p></li></a><a href="../docs.html"><li><p>Docs</p></li></a></ul></div><a class="dapp button hollow" rel="external" href="../../app.compound.finance/index.html">App</a></div></header><div class="documentation" id="documentation"><span></span><div id="docs-navigation" class="docs-navigation"><div class="container-large docs-navigation__content"><a class="mobile-hide" href="../docs.html">Getting Started</a><a class="mobile-hide active" href="ctokens.html">cTokens</a><a class="mobile-hide" href="comptroller.html">Comptroller</a><a class="mobile-hide" href="governance.html">Governance</a><a class="mobile-hide" href="prices.html">Open Price Feed</a><a class="mobile-hide" href="api.html">API</a><a class="mobile-hide" href="compound-js.html">Compound.js</a><a class="" href="security.html">Security</a><div class="chevron-container"><div class="chevron"></div></div></div><div class="docs-navigation__content--mobile"><a class="" href="../docs.html">Getting Started</a><a class=" active" href="ctokens.html">cTokens</a><a class="" href="comptroller.html">Comptroller</a><a class="" href="governance.html">Governance</a><a class="" href="prices.html">Open Price Feed</a><a class="" href="api.html">API</a><a class="" href="compound-js.html">Compound.js</a><a class="" href="security.html">Security</a></div></div><div class="docs container-large"><div class="row"><div class="side-navigation col-sm-3"><div id="docs-side-navigation" class="side-navigation__content"><a class="section" href="#introduction">Introduction</a><a class="section" href="#mint">Mint</a><a class="section" href="#redeem">Redeem</a><a class="section" href="#redeem-underlying">Redeem Underlying</a><a class="section" href="#borrow">Borrow</a><a class="section" href="#repay-borrow">Repay Borrow</a><a class="section" href="#repay-borrow-behalf">Repay Borrow Behalf</a><a class="section" href="#liquidate-borrow">Liquidate Borrow</a><a class="section" href="#key-events">Key Events</a><a class="section" href="#error-codes">Error Codes</a><a class="section" href="#exchange-rate">Exchange Rate</a><a class="section" href="#get-cash">Get Cash</a><a class="section" href="#total-borrows">Total Borrows</a><a class="section" href="#borrow-balance">Borrow Balance</a><a class="section" href="#borrow-rate">Borrow Rate</a><a class="section" href="#total-supply">Total Supply</a><a class="section" href="#underlying-balance">Underlying Balance</a><a class="section" href="#supply-rate">Supply Rate</a><a class="section" href="#total-reserves">Total Reserves</a><a class="section" href="#reserve-factor">Reserve Factor</a></div></div><div class="col-xs-12 col-sm-9 content"><section id="introduction"><label class="big">cTokens</label><h2 class="subheader">Introduction</h2><div id="cToken-overview"><div id="pattern-header"></div><div id="cDai"></div><div id="cWbtc"></div><div id="cEth"></div><div id="cZrx"></div><div id="cUsdc"></div><div id="cUsdt"></div></div><p>Each asset supported by the Compound Protocol is integrated through a cToken contract, which is an <a target="_blank" rel="external" href="https://eips.ethereum.org/EIPS/eip-20">EIP-20</a> compliant representation of balances supplied to the protocol. By minting cTokens, users (1) earn interest through the cToken's exchange rate, which increases in value relative to the underlying asset, and (2) gain the ability to use cTokens as collateral.</p><p>cTokens are the primary means of interacting with the Compound Protocol; when a user mints, redeems, borrows, repays a borrow, liquidates a borrow, or transfers cTokens, she will do so using the cToken contract.</p><p>There are currently two types of cTokens: CErc20 and CEther. Though both types expose the EIP-20 interface, CErc20 wraps an underlying ERC-20 asset, while CEther simply wraps Ether itself. As such, the core functions which involve transferring an asset into the protocol have slightly different interfaces depending on the type, each of which is shown below.</p></section><div id="cToken-info"><div id="line"></div><div class="faq-item"><div class="faq-item-header"><h3 class="faq-item-text">How do cTokens earn interest?</h3><div class="plus"><span></span><span></span></div></div><div class="faq-item-description"><p>Each <a target="_blank" href="../markets.html">market</a> has its own Supply interest rate (APR). Interest isn't distributed; instead, simply by holding cTokens, you'll earn interest.</p><p>cTokens accumulates interest through their exchange rate — over time, each cToken becomes convertible into an increasing amount of it's underlying asset, even while the number of cTokens in your wallet stays the same.</p></div></div><div id="line"></div><div class="faq-item"><div class="faq-item-header"><h3 class="faq-item-text">Do I need to calculate the cToken exchange rate?</h3><div class="plus"><span></span><span></span></div></div><div class="faq-item-description"><p>When a market is launched, the cToken exchange rate (how much ETH one cETH is worth) begins at 0.020000 — and increases at a rate equal to the compounding market interest rate. For example, after one year, the exchange rate might equal 0.021591.</p><p>Each user has the same cToken exchange rate; there’s nothing unique to your wallet that you have to worry about.</p></div></div><div id="line"></div><div class="faq-item"><div class="faq-item-header"><h3 class="faq-item-text">Can you walk me through an example?</h3><div class="plus"><span></span><span></span></div></div><div class="faq-item-description"><p>Let’s say you supply 1,000 DAI to the Compound protocol, when the exchange rate is 0.020070; you would receive 49,825.61 cDAI (1,000/0.020070).</p><p>A few months later, you decide it’s time to withdraw your DAI from the protocol; the exchange rate is now 0.021591:</p><ul><li><p>Your 49,825.61 cDAI is now equal to 1,075.78 DAI (49,825.61 * 0.021591)</p></li><li><p>You could withdraw 1,075.78 DAI, which would redeem all 49,825.61 cDAI</p></li><li><p>Or, you could withdraw a portion, such as your original 1,000 DAI, which would redeem 46,315.59 cDAI (keeping 3,510.01 cDAI in your wallet)</p></li></ul></div></div><div id="line"></div><div class="faq-item"><div class="faq-item-header"><h3 class="faq-item-text">How do I view my cTokens?</h3><div class="plus"><span></span><span></span></div></div><div class="faq-item-description"><p>Each cToken is visible on <a target="_blank" rel="external" href="https://etherscan.io/tokens/label/compound">Etherscan</a>, and you should be able to view them in the list of tokens associated with your address</p><p>cToken balances have been integrated into <a target="_blank" rel="external" href="https://itunes.apple.com/us/app/coinbase-wallet/id1278383455">Coinbase Wallet</a> and MetaMask; other wallets may add cToken support</p></div></div><div id="line"></div><div class="faq-item"><div class="faq-item-header"><h3 class="faq-item-text">Can I transfer cTokens?</h3><div class="plus"><span></span><span></span></div></div><div class="faq-item-description"><p>Yes, but exercise caution! By transferring cTokens, you’re transferring your balance of the underlying asset inside the Compound protocol. If you send a cToken to your friend, your balance (viewable in the <a target="_blank" rel="external" href="../../app.compound.finance/index.html">Compound Interface</a>) will decline, and your friend will see their balance increase.</p></div></div><div id="line"></div></div><section id="mint"><h2 class="subheader">Mint</h2><p>The mint function transfers an asset into the protocol, which begins accumulating interest based on the current <a href="#supply-rate">Supply Rate</a> for the asset. The user receives a quantity of cTokens equal to the underlying tokens supplied, divided by the current <a href="#exchange-rate">Exchange Rate</a>.</p><h4>CErc20</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">mint</span>(<span class="elmsh7 elmsh-sol-p">uint</span> <span class="elmsh7 elmsh-sol-p">mintAmount</span>) <span class="elmsh5 elmsh-sol-fe">returns</span> (<span class="elmsh4 elmsh-sol-dk">uint</span>)</div></code></pre><div class="ul-container"><ul><li><span class="inline-code">msg.sender</span>: The account which shall supply the asset, and own the minted cTokens.</li><li><span class="inline-code">mintAmount</span>: The amount of the asset to be supplied, in units of the underlying asset.</li><li><span class="inline-code">RETURN</span>: 0 on success, otherwise an <a href="#error-codes">Error code</a></li></ul></div><p>Before supplying an asset, users must first <a target="_blank" rel="external" href="https://eips.ethereum.org/EIPS/eip-20#approve">approve</a> the cToken to access their token balance.</p><h4>CEther</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">mint</span>() payable</div></code></pre><div class="ul-container"><ul><li><span class="inline-code">msg.value<span class="payable">payable</span></span>: The amount of ether to be supplied, in wei.</li><li><span class="inline-code">msg.sender</span>: The account which shall supply the ether, and own the minted cTokens.</li><li><span class="inline-code">RETURN</span>: No return, reverts on error.</li></ul></div><h4>Solidity</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh3 elmsh-sol-k">Erc20</span> underlying <span class="elmsh3 elmsh-sol-k">=</span> <span class="elmsh3 elmsh-sol-k">Erc20</span>(<span class="elmsh1 elmsh-sol-n">0xToken</span>...);     <span class="elmsh-comm">// get a handle for the underlying asset contract</span>
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh3 elmsh-sol-k">CErc20</span> cToken <span class="elmsh3 elmsh-sol-k">=</span> <span class="elmsh3 elmsh-sol-k">CErc20</span>(<span class="elmsh1 elmsh-sol-n">0x3FDA</span>...);        <span class="elmsh-comm">// get a handle for the corresponding cToken contract</span>
</div><div class="elmsh-line" data-elmsh-lc="3">underlying.<span class="elmsh5 elmsh-sol-fe">approve</span>(<span class="elmsh4 elmsh-sol-dk">address</span>(cToken), <span class="elmsh1 elmsh-sol-n">100</span>); <span class="elmsh-comm">// approve the transfer</span>
</div><div class="elmsh-line" data-elmsh-lc="4"><span class="elmsh3 elmsh-sol-k">assert</span>(cToken.<span class="elmsh5 elmsh-sol-fe">mint</span>(<span class="elmsh1 elmsh-sol-n">100</span>) <span class="elmsh3 elmsh-sol-k">==</span> <span class="elmsh1 elmsh-sol-n">0</span>);            <span class="elmsh-comm">// mint the cTokens and assert there is no error</span></div></code></pre><h4>Web3 1.0</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-js-dk">const</span> cToken <span class="elmsh3 elmsh-js-k">=</span> CEther.<span class="elmsh5 elmsh-js-fe">at</span>(<span class="elmsh1 elmsh-js-n">0x3FDB</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh3 elmsh-js-k">await</span> cToken.methods.<span class="elmsh5 elmsh-js-fe">mint</span>().<span class="elmsh5 elmsh-js-fe">send</span>({from<span class="elmsh3 elmsh-js-k">:</span> myAccount, value<span class="elmsh3 elmsh-js-k">:</span> <span class="elmsh1 elmsh-js-n">50</span>});</div></code></pre></section><section id="redeem"><h2 class="subheader">Redeem</h2><p>The redeem function converts a specified quantity of cTokens into the underlying asset, and returns them to the user. The amount of underlying tokens received is equal to the quantity of cTokens redeemed, multiplied by the current <a href="#exchange-rate">Exchange Rate</a>. The amount redeemed must be less than the user's <a rel="internal" href="comptroller.html#account-liquidity">Account Liquidity</a> and the market's available liquidity.</p><h4>CErc20 / CEther</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">redeem</span>(<span class="elmsh7 elmsh-sol-p">uint</span> <span class="elmsh7 elmsh-sol-p">redeemTokens</span>) <span class="elmsh5 elmsh-sol-fe">returns</span> (<span class="elmsh4 elmsh-sol-dk">uint</span>)</div></code></pre><div class="ul-container"><ul><li><span class="inline-code">msg.sender</span>: The account to which redeemed funds shall be transferred.</li><li><span class="inline-code">redeemTokens</span>: The number of cTokens to be redeemed.</li><li><span class="inline-code">RETURN</span>: 0 on success, otherwise an <a href="#error-codes">Error code</a></li></ul></div><h4>Solidity</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh3 elmsh-sol-k">CEther</span> cToken <span class="elmsh3 elmsh-sol-k">=</span> <span class="elmsh3 elmsh-sol-k">CEther</span>(<span class="elmsh1 elmsh-sol-n">0x3FDB</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh3 elmsh-sol-k">require</span>(cToken.<span class="elmsh5 elmsh-sol-fe">redeem</span>(<span class="elmsh1 elmsh-sol-n">7</span>) <span class="elmsh3 elmsh-sol-k">==</span> <span class="elmsh1 elmsh-sol-n">0</span>, <span class="elmsh2 elmsh-sol-s">"something went wrong"</span>);</div></code></pre><h4>Web3 1.0</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-js-dk">const</span> cToken <span class="elmsh3 elmsh-js-k">=</span> CErc20.<span class="elmsh5 elmsh-js-fe">at</span>(<span class="elmsh1 elmsh-js-n">0x3FDA</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2">cToken.methods.<span class="elmsh5 elmsh-js-fe">redeem</span>(<span class="elmsh1 elmsh-js-n">1</span>).<span class="elmsh5 elmsh-js-fe">send</span>({from<span class="elmsh3 elmsh-js-k">:</span> ...});</div></code></pre></section><section id="redeem-underlying"><h2 class="subheader">Redeem Underlying</h2><p>The redeem underlying function converts cTokens into a specified quantity of the underlying asset, and returns them to the user. The amount of cTokens redeemed is equal to the quantity of underlying tokens received, divided by the current <a href="#exchange-rate">Exchange Rate</a>. The amount redeemed must be less than the user's <a rel="internal" href="comptroller.html#account-liquidity">Account Liquidity</a> and the market's available liquidity.</p><h4>CErc20 / CEther</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">redeemUnderlying</span>(<span class="elmsh7 elmsh-sol-p">uint</span> <span class="elmsh7 elmsh-sol-p">redeemAmount</span>) <span class="elmsh5 elmsh-sol-fe">returns</span> (<span class="elmsh4 elmsh-sol-dk">uint</span>)</div></code></pre><div class="ul-container"><ul><li><span class="inline-code">msg.sender</span>: The account to which redeemed funds shall be transferred.</li><li><span class="inline-code">redeemAmount</span>: The amount of underlying to be redeemed.</li><li><span class="inline-code">RETURN</span>: 0 on success, otherwise an <a href="#error-codes">Error code</a></li></ul></div><h4>Solidity</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh3 elmsh-sol-k">CEther</span> cToken <span class="elmsh3 elmsh-sol-k">=</span> <span class="elmsh3 elmsh-sol-k">CEther</span>(<span class="elmsh1 elmsh-sol-n">0x3FDB</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh3 elmsh-sol-k">require</span>(cToken.<span class="elmsh5 elmsh-sol-fe">redeemUnderlying</span>(<span class="elmsh1 elmsh-sol-n">50</span>) <span class="elmsh3 elmsh-sol-k">==</span> <span class="elmsh1 elmsh-sol-n">0</span>, <span class="elmsh2 elmsh-sol-s">"something went wrong"</span>);</div></code></pre><h4>Web3 1.0</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-js-dk">const</span> cToken <span class="elmsh3 elmsh-js-k">=</span> CErc20.<span class="elmsh5 elmsh-js-fe">at</span>(<span class="elmsh1 elmsh-js-n">0x3FDA</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2">cToken.methods.<span class="elmsh5 elmsh-js-fe">redeemUnderlying</span>(<span class="elmsh1 elmsh-js-n">10</span>).<span class="elmsh5 elmsh-js-fe">send</span>({from<span class="elmsh3 elmsh-js-k">:</span> ...});</div></code></pre></section><section id="borrow"><h2 class="subheader">Borrow</h2><p>The borrow function transfers an asset from the protocol to the user, and creates a borrow balance which begins accumulating interest based on the <a href="#borrow-rate">Borrow Rate</a> for the asset. The amount borrowed must be less than the user's <a rel="internal" href="comptroller.html#account-liquidity">Account Liquidity</a> and the market's available liquidity.</p><p>To borrow Ether, the borrower must be 'payable' (solidity).</p><h4>CErc20 / CEther</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">borrow</span>(<span class="elmsh7 elmsh-sol-p">uint</span> <span class="elmsh7 elmsh-sol-p">borrowAmount</span>) <span class="elmsh5 elmsh-sol-fe">returns</span> (<span class="elmsh4 elmsh-sol-dk">uint</span>)</div></code></pre><div class="ul-container"><ul><li><span class="inline-code">msg.sender</span>: The account to which borrowed funds shall be transferred.</li><li><span class="inline-code">borrowAmount</span> : The amount of the underlying asset to be borrowed.</li><li><span class="inline-code">RETURN</span>: 0 on success, otherwise an <a href="#error-codes">Error code</a></li></ul></div><h4>Solidity</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh3 elmsh-sol-k">CErc20</span> cToken <span class="elmsh3 elmsh-sol-k">=</span> <span class="elmsh3 elmsh-sol-k">CErc20</span>(<span class="elmsh1 elmsh-sol-n">0x3FDA</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh3 elmsh-sol-k">require</span>(cToken.<span class="elmsh5 elmsh-sol-fe">borrow</span>(<span class="elmsh1 elmsh-sol-n">100</span>) <span class="elmsh3 elmsh-sol-k">==</span> <span class="elmsh1 elmsh-sol-n">0</span>, <span class="elmsh2 elmsh-sol-s">"got collateral?"</span>);</div></code></pre><h4>Web3 1.0</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-js-dk">const</span> cToken <span class="elmsh3 elmsh-js-k">=</span> CEther.<span class="elmsh5 elmsh-js-fe">at</span>(<span class="elmsh1 elmsh-js-n">0x3FDB</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh3 elmsh-js-k">await</span> cToken.methods.<span class="elmsh5 elmsh-js-fe">borrow</span>(<span class="elmsh1 elmsh-js-n">50</span>).<span class="elmsh5 elmsh-js-fe">send</span>({from<span class="elmsh3 elmsh-js-k">:</span> <span class="elmsh1 elmsh-js-n">0xMyAccount</span>});</div></code></pre></section><section id="repay-borrow"><h2 class="subheader">Repay Borrow</h2><p>The repay function transfers an asset into the protocol, reducing the user's borrow balance.</p><h4>CErc20</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">repayBorrow</span>(<span class="elmsh7 elmsh-sol-p">uint</span> <span class="elmsh7 elmsh-sol-p">repayAmount</span>) <span class="elmsh5 elmsh-sol-fe">returns</span> (<span class="elmsh4 elmsh-sol-dk">uint</span>)</div></code></pre><div class="ul-container"><ul><li><span class="inline-code">msg.sender</span>: The account which borrowed the asset, and shall repay the borrow.</li><li><span class="inline-code">repayAmount</span>: The amount of the underlying borrowed asset to be repaid. A value of -1 (i.e. <span>2<sup>256</sup></span> - 1) can be used to repay the full amount.</li><li><span class="inline-code">RETURN</span>: 0 on success, otherwise an <a href="#error-codes">Error code</a></li></ul></div><p>Before repaying an asset, users must first <a target="_blank" rel="external" href="https://eips.ethereum.org/EIPS/eip-20#approve">approve</a> the cToken to access their token balance.</p><h4>CEther</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">repayBorrow</span>() payable</div></code></pre><div class="ul-container"><ul><li><span class="inline-code">msg.value<span class="payable">payable</span></span>: The amount of ether to be repaid, in wei.</li><li><span class="inline-code">msg.sender</span>: The account which borrowed the asset, and shall repay the borrow.</li><li><span class="inline-code">RETURN</span>: No return, reverts on error.</li></ul></div><h4>Solidity</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh3 elmsh-sol-k">CEther</span> cToken <span class="elmsh3 elmsh-sol-k">=</span> <span class="elmsh3 elmsh-sol-k">CEther</span>(<span class="elmsh1 elmsh-sol-n">0x3FDB</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh3 elmsh-sol-k">require</span>(cToken.repayBorrow.<span class="elmsh5 elmsh-sol-fe">value</span>(<span class="elmsh1 elmsh-sol-n">100</span>)() <span class="elmsh3 elmsh-sol-k">==</span> <span class="elmsh1 elmsh-sol-n">0</span>, <span class="elmsh2 elmsh-sol-s">"transfer approved?"</span>);</div></code></pre><h4>Web3 1.0</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-js-dk">const</span> cToken <span class="elmsh3 elmsh-js-k">=</span> CErc20.<span class="elmsh5 elmsh-js-fe">at</span>(<span class="elmsh1 elmsh-js-n">0x3FDA</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2">cToken.methods.<span class="elmsh5 elmsh-js-fe">repayBorrow</span>(<span class="elmsh1 elmsh-js-n">10000</span>).<span class="elmsh5 elmsh-js-fe">send</span>({from<span class="elmsh3 elmsh-js-k">:</span> ...});</div></code></pre></section><section id="repay-borrow-behalf"><h2 class="subheader">Repay Borrow Behalf</h2><p>The repay function transfers an asset into the protocol, reducing the target user's borrow balance.</p><h4>CErc20</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">repayBorrowBehalf</span>(<span class="elmsh7 elmsh-sol-p">address</span> <span class="elmsh7 elmsh-sol-p">borrower</span>, <span class="elmsh7 elmsh-sol-p">uint</span> <span class="elmsh7 elmsh-sol-p">repayAmount</span>) <span class="elmsh5 elmsh-sol-fe">returns</span> (<span class="elmsh4 elmsh-sol-dk">uint</span>)</div></code></pre><div class="ul-container"><ul><li><span class="inline-code">msg.sender</span>: The account which shall repay the borrow.</li><li><span class="inline-code">borrower</span>: The account which borrowed the asset to be repaid.</li><li><span class="inline-code">repayAmount</span>: The amount of the underlying borrowed asset to be repaid. A value of -1 (i.e. <span>2<sup>256</sup></span> - 1) can be used to repay the full amount.</li><li><span class="inline-code">RETURN</span>: 0 on success, otherwise an <a href="#error-codes">Error code</a></li></ul></div><p>Before repaying an asset, users must first <a target="_blank" rel="external" href="https://eips.ethereum.org/EIPS/eip-20#approve">approve</a> the cToken to access their token balance.</p><h4>CEther</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">repayBorrowBehalf</span>(<span class="elmsh7 elmsh-sol-p">address</span> <span class="elmsh7 elmsh-sol-p">borrower</span>) payable</div></code></pre><div class="ul-container"><ul><li><span class="inline-code">msg.value<span class="payable">payable</span></span>: The amount of ether to be repaid, in wei.</li><li><span class="inline-code">msg.sender</span>: The account which shall repay the borrow.</li><li><span class="inline-code">borrower</span>: The account which borrowed the asset to be repaid.</li><li><span class="inline-code">RETURN</span>: No return, reverts on error.</li></ul></div><h4>Solidity</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh3 elmsh-sol-k">CEther</span> cToken <span class="elmsh3 elmsh-sol-k">=</span> <span class="elmsh3 elmsh-sol-k">CEther</span>(<span class="elmsh1 elmsh-sol-n">0x3FDB</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh3 elmsh-sol-k">require</span>(cToken.repayBorrowBehalf.<span class="elmsh5 elmsh-sol-fe">value</span>(<span class="elmsh1 elmsh-sol-n">100</span>)(<span class="elmsh1 elmsh-sol-n">0xBorrower</span>) <span class="elmsh3 elmsh-sol-k">==</span> <span class="elmsh1 elmsh-sol-n">0</span>, <span class="elmsh2 elmsh-sol-s">"transfer approved?"</span>);</div></code></pre><h4>Web3 1.0</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-js-dk">const</span> cToken <span class="elmsh3 elmsh-js-k">=</span> CErc20.<span class="elmsh5 elmsh-js-fe">at</span>(<span class="elmsh1 elmsh-js-n">0x3FDA</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh3 elmsh-js-k">await</span> cToken.methods.<span class="elmsh5 elmsh-js-fe">repayBorrowBehalf</span>(<span class="elmsh1 elmsh-js-n">0xBorrower</span>, <span class="elmsh1 elmsh-js-n">10000</span>).<span class="elmsh5 elmsh-js-fe">send</span>({from<span class="elmsh3 elmsh-js-k">:</span> <span class="elmsh1 elmsh-js-n">0xPayer</span>});</div></code></pre></section><section id="liquidate-borrow"><h2 class="subheader">Liquidate Borrow</h2><p>A user who has negative <a rel="internal" href="comptroller.html#account-liquidity">account liquidity</a> is subject to <a href="#liquidate-borrow">liquidation</a> by other users of the protocol to return his/her account liquidity back to positive (i.e. above the collateral requirement). When a liquidation occurs, a liquidator may repay some or all of an outstanding borrow on behalf of a borrower and in return receive a discounted amount of collateral held by the borrower; this discount is defined as the liquidation incentive.</p><p>A liquidator may close up to a certain fixed percentage (i.e. close factor) of any individual outstanding borrow of the underwater account. Unlike in v1, liquidators must interact with each cToken contract in which they wish to repay a borrow and seize another asset as collateral. When collateral is seized, the liquidator is transferred cTokens, which they may redeem the same as if they had supplied the asset themselves. Users must approve each cToken contract before calling liquidate (i.e. on the borrowed asset which they are repaying), as they are transferring funds into the contract.</p><h4>CErc20</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">liquidateBorrow</span>(<span class="elmsh7 elmsh-sol-p">address</span> <span class="elmsh7 elmsh-sol-p">borrower</span>, <span class="elmsh7 elmsh-sol-p">uint</span> <span class="elmsh7 elmsh-sol-p">amount</span>, <span class="elmsh7 elmsh-sol-p">address</span> <span class="elmsh7 elmsh-sol-p">collateral</span>) <span class="elmsh5 elmsh-sol-fe">returns</span> (<span class="elmsh4 elmsh-sol-dk">uint</span>)</div></code></pre><div class="ul-container"><ul><li><span class="inline-code">msg.sender</span>: The account which shall liquidate the borrower by repaying their debt and seizing their collateral.</li><li><span class="inline-code">borrower</span>: The account with negative <a rel="internal" href="comptroller.html#account-liquidity">account liquidity</a> that shall be liquidated.</li><li><span class="inline-code">repayAmount</span>: The amount of the borrowed asset to be repaid and converted into collateral, specified in units of the underlying borrowed asset.</li><li><span class="inline-code">cTokenCollateral</span>: The address of the cToken currently held as collateral by a borrower, that the liquidator shall seize.</li><li><span class="inline-code">RETURN</span>: 0 on success, otherwise an <a href="#error-codes">Error code</a></li></ul></div><p>Before supplying an asset, users must first <a target="_blank" rel="external" href="https://eips.ethereum.org/EIPS/eip-20#approve">approve</a> the cToken to access their token balance.</p><h4>CEther</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">liquidateBorrow</span>(<span class="elmsh7 elmsh-sol-p">address</span> <span class="elmsh7 elmsh-sol-p">borrower</span>, <span class="elmsh7 elmsh-sol-p">address</span> <span class="elmsh7 elmsh-sol-p">cTokenCollateral</span>) payable</div></code></pre><div class="ul-container"><ul><li><span class="inline-code">msg.value<span class="payable">payable</span></span>: The amount of ether to be repaid and converted into collateral, in wei.</li><li><span class="inline-code">msg.sender</span>: The account which shall liquidate the borrower by repaying their debt and seizing their collateral.</li><li><span class="inline-code">borrower</span>: The account with negative <a rel="internal" href="comptroller.html#account-liquidity">account liquidity</a> that shall be liquidated.</li><li><span class="inline-code">cTokenCollateral</span>: The address of the cToken currently held as collateral by a borrower, that the liquidator shall seize.</li><li><span class="inline-code">RETURN</span>: No return, reverts on error.</li></ul></div><h4>Solidity</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh3 elmsh-sol-k">CEther</span> cToken <span class="elmsh3 elmsh-sol-k">=</span> <span class="elmsh3 elmsh-sol-k">CEther</span>(<span class="elmsh1 elmsh-sol-n">0x3FDB</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh3 elmsh-sol-k">CErc20</span> cTokenCollateral <span class="elmsh3 elmsh-sol-k">=</span> <span class="elmsh3 elmsh-sol-k">CErc20</span>(<span class="elmsh1 elmsh-sol-n">0x3FDA</span>...);
</div><div class="elmsh-line" data-elmsh-lc="3"><span class="elmsh3 elmsh-sol-k">require</span>(cToken.liquidateBorrow.<span class="elmsh5 elmsh-sol-fe">value</span>(<span class="elmsh1 elmsh-sol-n">100</span>)(<span class="elmsh1 elmsh-sol-n">0xBorrower</span>, cTokenCollateral) <span class="elmsh3 elmsh-sol-k">==</span> <span class="elmsh1 elmsh-sol-n">0</span>, <span class="elmsh2 elmsh-sol-s">"borrower underwater??"</span>);</div></code></pre><h4>Web3 1.0</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-js-dk">const</span> cToken <span class="elmsh3 elmsh-js-k">=</span> CErc20.<span class="elmsh5 elmsh-js-fe">at</span>(<span class="elmsh1 elmsh-js-n">0x3FDA</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-js-dk">const</span> cTokenCollateral <span class="elmsh3 elmsh-js-k">=</span> CEther.<span class="elmsh5 elmsh-js-fe">at</span>(<span class="elmsh1 elmsh-js-n">0x3FDB</span>...);
</div><div class="elmsh-line" data-elmsh-lc="3"><span class="elmsh3 elmsh-js-k">await</span> cToken.methods.<span class="elmsh5 elmsh-js-fe">liquidateBorrow</span>(<span class="elmsh1 elmsh-js-n">0xBorrower</span>, <span class="elmsh1 elmsh-js-n">33</span>, cTokenCollateral).<span class="elmsh5 elmsh-js-fe">send</span>({from<span class="elmsh3 elmsh-js-k">:</span> <span class="elmsh1 elmsh-js-n">0xLiquidator</span>});</div></code></pre></section><section id="key-events"><h2 class="subheader">Key Events</h2><table class="key-events-table"><thead><tr><th>Event</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="inline-code">Mint(address minter, uint mintAmount, uint mintTokens)</span></p></td><td><p>Emitted upon a successful <a href="#mint">Mint</a>.</p></td></tr><tr><td><p><span class="inline-code">Redeem(address redeemer, uint redeemAmount, uint redeemTokens)</span></p></td><td><p>Emitted upon a successful <a href="#redeem">Redeem</a>.</p></td></tr><tr><td><p><span class="inline-code">Borrow(address borrower, uint borrowAmount, uint accountBorrows, uint totalBorrows)</span></p></td><td><p>Emitted upon a successful <a href="#borrow">Borrow</a>.</p></td></tr><tr><td><p><span class="inline-code">RepayBorrow(address payer, address borrower, uint repayAmount, uint accountBorrows, uint totalBorrows)</span></p></td><td><p>Emitted upon a successful <a href="#repay-borrow">Repay Borrow</a>.</p></td></tr><tr><td><p><span class="inline-code">LiquidateBorrow(address liquidator, address borrower, uint repayAmount, address cTokenCollateral, uint seizeTokens)</span></p></td><td><p>Emitted upon a successful <a href="#liquidate-borrow">Liquidate Borrow</a>.</p></td></tr></tbody></table></section><section id="error-codes"><h2 class="subheader">Error Codes</h2><table class="errors"><thead><tr><th>Code</th><th>Name</th><th>Description</th></tr></thead><tbody><tr><td><p>0</p></td><td><p><span class="inline-code">NO_ERROR</span></p></td><td><p>Not a failure.</p></td></tr><tr><td><p>1</p></td><td><p><span class="inline-code">UNAUTHORIZED</span></p></td><td><p>The sender is not authorized to perform this action.</p></td></tr><tr><td><p>2</p></td><td><p><span class="inline-code">BAD_INPUT</span></p></td><td><p>An invalid argument was supplied by the caller.</p></td></tr><tr><td><p>3</p></td><td><p><span class="inline-code">COMPTROLLER_REJECTION</span></p></td><td><p>The action would violate the comptroller policy.</p></td></tr><tr><td><p>4</p></td><td><p><span class="inline-code">COMPTROLLER_CALCULATION_ERROR</span></p></td><td><p>An internal calculation has failed in the comptroller.</p></td></tr><tr><td><p>5</p></td><td><p><span class="inline-code">INTEREST_RATE_MODEL_ERROR</span></p></td><td><p>The interest rate model returned an invalid value.</p></td></tr><tr><td><p>6</p></td><td><p><span class="inline-code">INVALID_ACCOUNT_PAIR</span></p></td><td><p>The specified combination of accounts is invalid.</p></td></tr><tr><td><p>7</p></td><td><p><span class="inline-code">INVALID_CLOSE_AMOUNT_REQUESTED</span></p></td><td><p>The amount to liquidate is invalid.</p></td></tr><tr><td><p>8</p></td><td><p><span class="inline-code">INVALID_COLLATERAL_FACTOR</span></p></td><td><p>The collateral factor is invalid.</p></td></tr><tr><td><p>9</p></td><td><p><span class="inline-code">MATH_ERROR</span></p></td><td><p>A math calculation error occurred.</p></td></tr><tr><td><p>10</p></td><td><p><span class="inline-code">MARKET_NOT_FRESH</span></p></td><td><p>Interest has not been properly accrued.</p></td></tr><tr><td><p>11</p></td><td><p><span class="inline-code">MARKET_NOT_LISTED</span></p></td><td><p>The market is not currently listed by its comptroller.</p></td></tr><tr><td><p>12</p></td><td><p><span class="inline-code">TOKEN_INSUFFICIENT_ALLOWANCE</span></p></td><td><p>ERC-20 contract must <em>allow</em> Money Market contract to call <span class="inline-code">transferFrom</span>. The current allowance is either 0 or less than the requested supply, repayBorrow or liquidate amount.</p></td></tr><tr><td><p>13</p></td><td><p><span class="inline-code">TOKEN_INSUFFICIENT_BALANCE</span></p></td><td><p>Caller does not have sufficient balance in the ERC-20 contract to complete the desired action.</p></td></tr><tr><td><p>14</p></td><td><p><span class="inline-code">TOKEN_INSUFFICIENT_CASH</span></p></td><td><p>The market does not have a sufficient cash balance to complete the transaction. You may attempt this transaction again later.</p></td></tr><tr><td><p>15</p></td><td><p><span class="inline-code">TOKEN_TRANSFER_IN_FAILED</span></p></td><td><p>Failure in ERC-20 when transfering token into the market.</p></td></tr><tr><td><p>16</p></td><td><p><span class="inline-code">TOKEN_TRANSFER_OUT_FAILED</span></p></td><td><p>Failure in ERC-20 when transfering token out of the market.</p></td></tr></tbody></table><h2 class="subheader">Failure Info</h2><table class="failure-infos"><thead><tr><th>Code</th><th>Name</th></tr></thead><tbody><tr><td><p>0</p></td><td><p><span class="inline-code">ACCEPT_ADMIN_PENDING_ADMIN_CHECK</span></p></td></tr><tr><td><p>1</p></td><td><p><span class="inline-code">ACCRUE_INTEREST_ACCUMULATED_INTEREST_CALCULATION_FAILED</span></p></td></tr><tr><td><p>2</p></td><td><p><span class="inline-code">ACCRUE_INTEREST_BORROW_RATE_CALCULATION_FAILED</span></p></td></tr><tr><td><p>3</p></td><td><p><span class="inline-code">ACCRUE_INTEREST_NEW_BORROW_INDEX_CALCULATION_FAILED</span></p></td></tr><tr><td><p>4</p></td><td><p><span class="inline-code">ACCRUE_INTEREST_NEW_TOTAL_BORROWS_CALCULATION_FAILED</span></p></td></tr><tr><td><p>5</p></td><td><p><span class="inline-code">ACCRUE_INTEREST_NEW_TOTAL_RESERVES_CALCULATION_FAILED</span></p></td></tr><tr><td><p>6</p></td><td><p><span class="inline-code">ACCRUE_INTEREST_SIMPLE_INTEREST_FACTOR_CALCULATION_FAILED</span></p></td></tr><tr><td><p>7</p></td><td><p><span class="inline-code">BORROW_ACCUMULATED_BALANCE_CALCULATION_FAILED</span></p></td></tr><tr><td><p>8</p></td><td><p><span class="inline-code">BORROW_ACCRUE_INTEREST_FAILED</span></p></td></tr><tr><td><p>9</p></td><td><p><span class="inline-code">BORROW_CASH_NOT_AVAILABLE</span></p></td></tr><tr><td><p>10</p></td><td><p><span class="inline-code">BORROW_FRESHNESS_CHECK</span></p></td></tr><tr><td><p>11</p></td><td><p><span class="inline-code">BORROW_NEW_TOTAL_BALANCE_CALCULATION_FAILED</span></p></td></tr><tr><td><p>12</p></td><td><p><span class="inline-code">BORROW_NEW_ACCOUNT_BORROW_BALANCE_CALCULATION_FAILED</span></p></td></tr><tr><td><p>13</p></td><td><p><span class="inline-code">BORROW_MARKET_NOT_LISTED</span></p></td></tr><tr><td><p>14</p></td><td><p><span class="inline-code">BORROW_COMPTROLLER_REJECTION</span></p></td></tr><tr><td><p>15</p></td><td><p><span class="inline-code">LIQUIDATE_ACCRUE_BORROW_INTEREST_FAILED</span></p></td></tr><tr><td><p>16</p></td><td><p><span class="inline-code">LIQUIDATE_ACCRUE_COLLATERAL_INTEREST_FAILED</span></p></td></tr><tr><td><p>17</p></td><td><p><span class="inline-code">LIQUIDATE_COLLATERAL_FRESHNESS_CHECK</span></p></td></tr><tr><td><p>18</p></td><td><p><span class="inline-code">LIQUIDATE_COMPTROLLER_REJECTION</span></p></td></tr><tr><td><p>19</p></td><td><p><span class="inline-code">LIQUIDATE_COMPTROLLER_CALCULATE_AMOUNT_SEIZE_FAILED</span></p></td></tr><tr><td><p>20</p></td><td><p><span class="inline-code">LIQUIDATE_CLOSE_AMOUNT_IS_UINT_MAX</span></p></td></tr><tr><td><p>21</p></td><td><p><span class="inline-code">LIQUIDATE_CLOSE_AMOUNT_IS_ZERO</span></p></td></tr><tr><td><p>22</p></td><td><p><span class="inline-code">LIQUIDATE_FRESHNESS_CHECK</span></p></td></tr><tr><td><p>23</p></td><td><p><span class="inline-code">LIQUIDATE_LIQUIDATOR_IS_BORROWER</span></p></td></tr><tr><td><p>24</p></td><td><p><span class="inline-code">LIQUIDATE_REPAY_BORROW_FRESH_FAILED</span></p></td></tr><tr><td><p>25</p></td><td><p><span class="inline-code">LIQUIDATE_SEIZE_BALANCE_INCREMENT_FAILED</span></p></td></tr><tr><td><p>26</p></td><td><p><span class="inline-code">LIQUIDATE_SEIZE_BALANCE_DECREMENT_FAILED</span></p></td></tr><tr><td><p>27</p></td><td><p><span class="inline-code">LIQUIDATE_SEIZE_COMPTROLLER_REJECTION</span></p></td></tr><tr><td><p>28</p></td><td><p><span class="inline-code">LIQUIDATE_SEIZE_LIQUIDATOR_IS_BORROWER</span></p></td></tr><tr><td><p>29</p></td><td><p><span class="inline-code">LIQUIDATE_SEIZE_TOO_MUCH</span></p></td></tr><tr><td><p>30</p></td><td><p><span class="inline-code">MINT_ACCRUE_INTEREST_FAILED</span></p></td></tr><tr><td><p>31</p></td><td><p><span class="inline-code">MINT_COMPTROLLER_REJECTION</span></p></td></tr><tr><td><p>32</p></td><td><p><span class="inline-code">MINT_EXCHANGE_CALCULATION_FAILED</span></p></td></tr><tr><td><p>33</p></td><td><p><span class="inline-code">MINT_EXCHANGE_RATE_READ_FAILED</span></p></td></tr><tr><td><p>34</p></td><td><p><span class="inline-code">MINT_FRESHNESS_CHECK</span></p></td></tr><tr><td><p>35</p></td><td><p><span class="inline-code">MINT_NEW_ACCOUNT_BALANCE_CALCULATION_FAILED</span></p></td></tr><tr><td><p>36</p></td><td><p><span class="inline-code">MINT_NEW_TOTAL_SUPPLY_CALCULATION_FAILED</span></p></td></tr><tr><td><p>37</p></td><td><p><span class="inline-code">MINT_TRANSFER_IN_FAILED</span></p></td></tr><tr><td><p>38</p></td><td><p><span class="inline-code">MINT_TRANSFER_IN_NOT_POSSIBLE</span></p></td></tr><tr><td><p>39</p></td><td><p><span class="inline-code">REDEEM_ACCRUE_INTEREST_FAILED</span></p></td></tr><tr><td><p>40</p></td><td><p><span class="inline-code">REDEEM_COMPTROLLER_REJECTION</span></p></td></tr><tr><td><p>41</p></td><td><p><span class="inline-code">REDEEM_EXCHANGE_TOKENS_CALCULATION_FAILED</span></p></td></tr><tr><td><p>42</p></td><td><p><span class="inline-code">REDEEM_EXCHANGE_AMOUNT_CALCULATION_FAILED</span></p></td></tr><tr><td><p>43</p></td><td><p><span class="inline-code">REDEEM_EXCHANGE_RATE_READ_FAILED</span></p></td></tr><tr><td><p>44</p></td><td><p><span class="inline-code">REDEEM_FRESHNESS_CHECK</span></p></td></tr><tr><td><p>45</p></td><td><p><span class="inline-code">REDEEM_NEW_ACCOUNT_BALANCE_CALCULATION_FAILED</span></p></td></tr><tr><td><p>46</p></td><td><p><span class="inline-code">REDEEM_NEW_TOTAL_SUPPLY_CALCULATION_FAILED</span></p></td></tr><tr><td><p>47</p></td><td><p><span class="inline-code">REDEEM_TRANSFER_OUT_NOT_POSSIBLE</span></p></td></tr><tr><td><p>48</p></td><td><p><span class="inline-code">REDUCE_RESERVES_ACCRUE_INTEREST_FAILED</span></p></td></tr><tr><td><p>49</p></td><td><p><span class="inline-code">REDUCE_RESERVES_ADMIN_CHECK</span></p></td></tr><tr><td><p>50</p></td><td><p><span class="inline-code">REDUCE_RESERVES_CASH_NOT_AVAILABLE</span></p></td></tr><tr><td><p>51</p></td><td><p><span class="inline-code">REDUCE_RESERVES_FRESH_CHECK</span></p></td></tr><tr><td><p>52</p></td><td><p><span class="inline-code">REDUCE_RESERVES_VALIDATION</span></p></td></tr><tr><td><p>53</p></td><td><p><span class="inline-code">REPAY_BEHALF_ACCRUE_INTEREST_FAILED</span></p></td></tr><tr><td><p>54</p></td><td><p><span class="inline-code">REPAY_BORROW_ACCRUE_INTEREST_FAILED</span></p></td></tr><tr><td><p>55</p></td><td><p><span class="inline-code">REPAY_BORROW_ACCUMULATED_BALANCE_CALCULATION_FAILED</span></p></td></tr><tr><td><p>56</p></td><td><p><span class="inline-code">REPAY_BORROW_COMPTROLLER_REJECTION</span></p></td></tr><tr><td><p>57</p></td><td><p><span class="inline-code">REPAY_BORROW_FRESHNESS_CHECK</span></p></td></tr><tr><td><p>58</p></td><td><p><span class="inline-code">REPAY_BORROW_NEW_ACCOUNT_BORROW_BALANCE_CALCULATION_FAILED</span></p></td></tr><tr><td><p>59</p></td><td><p><span class="inline-code">REPAY_BORROW_NEW_TOTAL_BALANCE_CALCULATION_FAILED</span></p></td></tr><tr><td><p>60</p></td><td><p><span class="inline-code">REPAY_BORROW_TRANSFER_IN_NOT_POSSIBLE</span></p></td></tr><tr><td><p>61</p></td><td><p><span class="inline-code">SET_COLLATERAL_FACTOR_OWNER_CHECK</span></p></td></tr><tr><td><p>62</p></td><td><p><span class="inline-code">SET_COLLATERAL_FACTOR_VALIDATION</span></p></td></tr><tr><td><p>63</p></td><td><p><span class="inline-code">SET_COMPTROLLER_OWNER_CHECK</span></p></td></tr><tr><td><p>64</p></td><td><p><span class="inline-code">SET_INTEREST_RATE_MODEL_ACCRUE_INTEREST_FAILED</span></p></td></tr><tr><td><p>65</p></td><td><p><span class="inline-code">SET_INTEREST_RATE_MODEL_FRESH_CHECK</span></p></td></tr><tr><td><p>66</p></td><td><p><span class="inline-code">SET_INTEREST_RATE_MODEL_OWNER_CHECK</span></p></td></tr><tr><td><p>67</p></td><td><p><span class="inline-code">SET_MAX_ASSETS_OWNER_CHECK</span></p></td></tr><tr><td><p>68</p></td><td><p><span class="inline-code">SET_ORACLE_MARKET_NOT_LISTED</span></p></td></tr><tr><td><p>69</p></td><td><p><span class="inline-code">SET_PENDING_ADMIN_OWNER_CHECK</span></p></td></tr><tr><td><p>70</p></td><td><p><span class="inline-code">SET_RESERVE_FACTOR_ACCRUE_INTEREST_FAILED</span></p></td></tr><tr><td><p>71</p></td><td><p><span class="inline-code">SET_RESERVE_FACTOR_ADMIN_CHECK</span></p></td></tr><tr><td><p>72</p></td><td><p><span class="inline-code">SET_RESERVE_FACTOR_FRESH_CHECK</span></p></td></tr><tr><td><p>73</p></td><td><p><span class="inline-code">SET_RESERVE_FACTOR_BOUNDS_CHECK</span></p></td></tr><tr><td><p>74</p></td><td><p><span class="inline-code">TRANSFER_COMPTROLLER_REJECTION</span></p></td></tr><tr><td><p>75</p></td><td><p><span class="inline-code">TRANSFER_NOT_ALLOWED</span></p></td></tr><tr><td><p>76</p></td><td><p><span class="inline-code">TRANSFER_NOT_ENOUGH</span></p></td></tr><tr><td><p>77</p></td><td><p><span class="inline-code">TRANSFER_TOO_MUCH</span></p></td></tr></tbody></table></section><section id="exchange-rate"><h2 class="subheader">Exchange Rate</h2><p>Each cToken is convertible into an ever increasing quantity of the underlying asset, as interest accrues in the market. The exchange rate between a cToken and the underlying asset is equal to:</p><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1">exchangeRate <span class="elmsh3 elmsh-sol-k">=</span> (<span class="elmsh5 elmsh-sol-fe">getCash</span>() <span class="elmsh3 elmsh-sol-k">+</span> <span class="elmsh5 elmsh-sol-fe">totalBorrows</span>() <span class="elmsh3 elmsh-sol-k">-</span> <span class="elmsh5 elmsh-sol-fe">totalReserves</span>()) <span class="elmsh3 elmsh-sol-k">/</span> <span class="elmsh5 elmsh-sol-fe">totalSupply</span>()</div></code></pre><h4>CErc20 / CEther</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">exchangeRateCurrent</span>() <span class="elmsh5 elmsh-sol-fe">returns</span> (<span class="elmsh4 elmsh-sol-dk">uint</span>)</div></code></pre><div class="ul-container"><ul><li><span class="inline-code">RETURN</span>: The current exchange rate as an unsigned integer, scaled by 1e18.</li></ul></div><h4>Solidity</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh3 elmsh-sol-k">CErc20</span> cToken <span class="elmsh3 elmsh-sol-k">=</span> <span class="elmsh3 elmsh-sol-k">CToken</span>(<span class="elmsh1 elmsh-sol-n">0x3FDA</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-sol-dk">uint</span> exchangeRateMantissa <span class="elmsh3 elmsh-sol-k">=</span> cToken.<span class="elmsh5 elmsh-sol-fe">exchangeRateCurrent</span>();</div></code></pre><h4>Web3 1.0</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-js-dk">const</span> cToken <span class="elmsh3 elmsh-js-k">=</span> CEther.<span class="elmsh5 elmsh-js-fe">at</span>(<span class="elmsh1 elmsh-js-n">0x3FDB</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-js-dk">const</span> exchangeRate <span class="elmsh3 elmsh-js-k">=</span> (<span class="elmsh3 elmsh-js-k">await</span> cToken.methods.<span class="elmsh5 elmsh-js-fe">exchangeRateCurrent</span>().<span class="elmsh5 elmsh-js-fe">call</span>()) <span class="elmsh3 elmsh-js-k">/</span> <span class="elmsh1 elmsh-js-n">1e18</span>;</div></code></pre><p>Tip: note the use of <span class="inline-code">call</span> vs. <span class="inline-code">send</span> to invoke the function from off-chain without incurring gas costs.</p></section><section id="get-cash"><h2 class="subheader">Get Cash</h2><p>Cash is the amount of underlying balance owned by this cToken contract. One may query the total amount of cash currently available to this market.</p><h4>CErc20 / CEther</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">getCash</span>() <span class="elmsh5 elmsh-sol-fe">returns</span> (<span class="elmsh4 elmsh-sol-dk">uint</span>)</div></code></pre><div class="ul-container"><ul><li><span class="inline-code">RETURN</span>: The quantity of underlying asset owned by the contract.</li></ul></div><h4>Solidity</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh3 elmsh-sol-k">CErc20</span> cToken <span class="elmsh3 elmsh-sol-k">=</span> <span class="elmsh3 elmsh-sol-k">CToken</span>(<span class="elmsh1 elmsh-sol-n">0x3FDA</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-sol-dk">uint</span> cash <span class="elmsh3 elmsh-sol-k">=</span> cToken.<span class="elmsh5 elmsh-sol-fe">getCash</span>();</div></code></pre><h4>Web3 1.0</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-js-dk">const</span> cToken <span class="elmsh3 elmsh-js-k">=</span> CEther.<span class="elmsh5 elmsh-js-fe">at</span>(<span class="elmsh1 elmsh-js-n">0x3FDB</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-js-dk">const</span> cash <span class="elmsh3 elmsh-js-k">=</span> (<span class="elmsh3 elmsh-js-k">await</span> cToken.methods.<span class="elmsh5 elmsh-js-fe">getCash</span>().<span class="elmsh5 elmsh-js-fe">call</span>());</div></code></pre></section><section id="total-borrows"><h2 class="subheader">Total Borrow</h2><p>Total Borrows is the amount of underlying currently loaned out by the market, and the amount upon which interest is accumulated to suppliers of the market.</p><h4>CErc20 / CEther</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">totalBorrowsCurrent</span>() <span class="elmsh5 elmsh-sol-fe">returns</span> (<span class="elmsh4 elmsh-sol-dk">uint</span>)</div></code></pre><div class="ul-container"><ul><li><span class="inline-code">RETURN</span>: The total amount of borrowed underlying, with interest.</li></ul></div><h4>Solidity</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh3 elmsh-sol-k">CErc20</span> cToken <span class="elmsh3 elmsh-sol-k">=</span> <span class="elmsh3 elmsh-sol-k">CToken</span>(<span class="elmsh1 elmsh-sol-n">0x3FDA</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-sol-dk">uint</span> borrows <span class="elmsh3 elmsh-sol-k">=</span> cToken.<span class="elmsh5 elmsh-sol-fe">totalBorrowsCurrent</span>();</div></code></pre><h4>Web3 1.0</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-js-dk">const</span> cToken <span class="elmsh3 elmsh-js-k">=</span> CEther.<span class="elmsh5 elmsh-js-fe">at</span>(<span class="elmsh1 elmsh-js-n">0x3FDB</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-js-dk">const</span> borrows <span class="elmsh3 elmsh-js-k">=</span> (<span class="elmsh3 elmsh-js-k">await</span> cToken.methods.<span class="elmsh5 elmsh-js-fe">totalBorrowsCurrent</span>().<span class="elmsh5 elmsh-js-fe">call</span>());</div></code></pre></section><section id="borrow-balance"><h2 class="subheader">Borrow Balance</h2><p>A user who borrows assets from the protocol is subject to accumulated interest based on the current <a href="#borrow-rate">borrow rate</a>. Interest is accumulated every block and integrations may use this function to obtain the current value of a user's borrow balance with interest.</p><h4>CErc20 / CEther</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">borrowBalanceCurrent</span>(<span class="elmsh7 elmsh-sol-p">address</span> <span class="elmsh7 elmsh-sol-p">account</span>) <span class="elmsh5 elmsh-sol-fe">returns</span> (<span class="elmsh4 elmsh-sol-dk">uint</span>)</div></code></pre><div class="ul-container"><ul><li><span class="inline-code">account</span>: The account which borrowed the assets.</li><li><span class="inline-code">RETURN</span>: The user's current borrow balance (with interest) in units of the underlying asset.</li></ul></div><h4>Solidity</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh3 elmsh-sol-k">CErc20</span> cToken <span class="elmsh3 elmsh-sol-k">=</span> <span class="elmsh3 elmsh-sol-k">CToken</span>(<span class="elmsh1 elmsh-sol-n">0x3FDA</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-sol-dk">uint</span> borrows <span class="elmsh3 elmsh-sol-k">=</span> cToken.<span class="elmsh5 elmsh-sol-fe">borrowBalanceCurrent</span>(msg.caller);</div></code></pre><h4>Web3 1.0</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-js-dk">const</span> cToken <span class="elmsh3 elmsh-js-k">=</span> CEther.<span class="elmsh5 elmsh-js-fe">at</span>(<span class="elmsh1 elmsh-js-n">0x3FDB</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-js-dk">const</span> borrows <span class="elmsh3 elmsh-js-k">=</span> <span class="elmsh3 elmsh-js-k">await</span> cToken.methods.<span class="elmsh5 elmsh-js-fe">borrowBalanceCurrent</span>(account).<span class="elmsh5 elmsh-js-fe">call</span>();</div></code></pre></section><section id="borrow-rate"><h2 class="subheader">Borrow Rate</h2><p>At any point in time one may query the contract to get the current borrow rate per block.</p><h4>CErc20 / CEther</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">borrowRatePerBlock</span>() <span class="elmsh5 elmsh-sol-fe">returns</span> (<span class="elmsh4 elmsh-sol-dk">uint</span>)</div></code></pre><div class="ul-container"><ul><li><span class="inline-code">RETURN</span>: The current borrow rate as an unsigned integer, scaled by 1e18.</li></ul></div><h4>Solidity</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh3 elmsh-sol-k">CErc20</span> cToken <span class="elmsh3 elmsh-sol-k">=</span> <span class="elmsh3 elmsh-sol-k">CToken</span>(<span class="elmsh1 elmsh-sol-n">0x3FDA</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-sol-dk">uint</span> borrowRateMantissa <span class="elmsh3 elmsh-sol-k">=</span> cToken.<span class="elmsh5 elmsh-sol-fe">borrowRatePerBlock</span>();</div></code></pre><h4>Web3 1.0</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-js-dk">const</span> cToken <span class="elmsh3 elmsh-js-k">=</span> CEther.<span class="elmsh5 elmsh-js-fe">at</span>(<span class="elmsh1 elmsh-js-n">0x3FDB</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-js-dk">const</span> borrowRate <span class="elmsh3 elmsh-js-k">=</span> (<span class="elmsh3 elmsh-js-k">await</span> cToken.methods.<span class="elmsh5 elmsh-js-fe">borrowRatePerBlock</span>().<span class="elmsh5 elmsh-js-fe">call</span>()) <span class="elmsh3 elmsh-js-k">/</span> <span class="elmsh1 elmsh-js-n">1e18</span>;</div></code></pre></section><section id="total-supply"><h2 class="subheader">Total Supply</h2><p>Total Supply is the number of tokens currently in circulation in this cToken market. It is part of the EIP-20 interface of the cToken contract.</p><h4>CErc20 / CEther</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">totalSupply</span>() <span class="elmsh5 elmsh-sol-fe">returns</span> (<span class="elmsh4 elmsh-sol-dk">uint</span>)</div></code></pre><div class="ul-container"><ul><li><span class="inline-code">RETURN</span>: The total number of tokens in circulation for the market.</li></ul></div><h4>Solidity</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh3 elmsh-sol-k">CErc20</span> cToken <span class="elmsh3 elmsh-sol-k">=</span> <span class="elmsh3 elmsh-sol-k">CToken</span>(<span class="elmsh1 elmsh-sol-n">0x3FDA</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-sol-dk">uint</span> tokens <span class="elmsh3 elmsh-sol-k">=</span> cToken.<span class="elmsh5 elmsh-sol-fe">totalSupply</span>();</div></code></pre><h4>Web3 1.0</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-js-dk">const</span> cToken <span class="elmsh3 elmsh-js-k">=</span> CEther.<span class="elmsh5 elmsh-js-fe">at</span>(<span class="elmsh1 elmsh-js-n">0x3FDB</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-js-dk">const</span> tokens <span class="elmsh3 elmsh-js-k">=</span> (<span class="elmsh3 elmsh-js-k">await</span> cToken.methods.<span class="elmsh5 elmsh-js-fe">totalSupply</span>().<span class="elmsh5 elmsh-js-fe">call</span>());</div></code></pre></section><section id="underlying-balance"><h2 class="subheader">Underlying Balance</h2><p>The user's underlying balance, representing their assets in the protocol, is equal to the user's cToken balance multiplied by the <a href="#exchange-rate">Exchange Rate</a>.</p><h4>CErc20 / CEther</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">balanceOfUnderlying</span>(<span class="elmsh7 elmsh-sol-p">address</span> <span class="elmsh7 elmsh-sol-p">account</span>) <span class="elmsh5 elmsh-sol-fe">returns</span> (<span class="elmsh4 elmsh-sol-dk">uint</span>)</div></code></pre><div class="ul-container"><ul><li><span class="inline-code">account</span>: The account to get the underlying balance of.</li><li><span class="inline-code">RETURN</span>: The amount of underlying currently owned by the account.</li></ul></div><h4>Solidity</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh3 elmsh-sol-k">CErc20</span> cToken <span class="elmsh3 elmsh-sol-k">=</span> <span class="elmsh3 elmsh-sol-k">CToken</span>(<span class="elmsh1 elmsh-sol-n">0x3FDA</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-sol-dk">uint</span> tokens <span class="elmsh3 elmsh-sol-k">=</span> cToken.<span class="elmsh5 elmsh-sol-fe">balanceOfUnderlying</span>(msg.caller);</div></code></pre><h4>Web3 1.0</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-js-dk">const</span> cToken <span class="elmsh3 elmsh-js-k">=</span> CEther.<span class="elmsh5 elmsh-js-fe">at</span>(<span class="elmsh1 elmsh-js-n">0x3FDB</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-js-dk">const</span> tokens <span class="elmsh3 elmsh-js-k">=</span> <span class="elmsh3 elmsh-js-k">await</span> cToken.methods.<span class="elmsh5 elmsh-js-fe">balanceOfUnderlying</span>(account).<span class="elmsh5 elmsh-js-fe">call</span>();</div></code></pre></section><section id="supply-rate"><h2 class="subheader">Supply Rate</h2><p>At any point in time one may query the contract to get the current supply rate per block. The supply rate is derived from the <a href="#borrow-rate">borrow rate</a>, <a href="#reserve-factor">reserve factor</a> and the amount of <a href="#total-borrows">total borrows</a>.</p><h4>CErc20 / CEther</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">supplyRatePerBlock</span>() <span class="elmsh5 elmsh-sol-fe">returns</span> (<span class="elmsh4 elmsh-sol-dk">uint</span>)</div></code></pre><div class="ul-container"><ul><li><span class="inline-code">RETURN</span>: The current supply rate as an unsigned integer, scaled by 1e18.</li></ul></div><h4>Solidity</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh3 elmsh-sol-k">CErc20</span> cToken <span class="elmsh3 elmsh-sol-k">=</span> <span class="elmsh3 elmsh-sol-k">CToken</span>(<span class="elmsh1 elmsh-sol-n">0x3FDA</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-sol-dk">uint</span> supplyRateMantissa <span class="elmsh3 elmsh-sol-k">=</span> cToken.<span class="elmsh5 elmsh-sol-fe">supplyRatePerBlock</span>();</div></code></pre><h4>Web3 1.0</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-js-dk">const</span> cToken <span class="elmsh3 elmsh-js-k">=</span> CEther.<span class="elmsh5 elmsh-js-fe">at</span>(<span class="elmsh1 elmsh-js-n">0x3FDB</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-js-dk">const</span> supplyRate <span class="elmsh3 elmsh-js-k">=</span> (<span class="elmsh3 elmsh-js-k">await</span> cToken.methods.<span class="elmsh5 elmsh-js-fe">supplyRatePerBlock</span>().<span class="elmsh5 elmsh-js-fe">call</span>()) <span class="elmsh3 elmsh-js-k">/</span> <span class="elmsh1 elmsh-js-n">1e18</span>;</div></code></pre></section><section id="total-reserves"><h2 class="subheader">Total Reserves</h2><p>Reserves are an accounting entry in each cToken contract that represents a portion of historical interest set aside as <a href="#cash">cash</a> which can be withdrawn or transferred through the protocol's governance. A small portion of borrower interest accrues into the protocol, determined by the <a href="#reserve-factor">reserve factor</a>.</p><h4>CErc20 / CEther</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">totalReserves</span>() <span class="elmsh5 elmsh-sol-fe">returns</span> (<span class="elmsh4 elmsh-sol-dk">uint</span>)</div></code></pre><div class="ul-container"><ul><li><span class="inline-code">RETURN</span>: The total amount of reserves held in the market.</li></ul></div><h4>Solidity</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh3 elmsh-sol-k">CErc20</span> cToken <span class="elmsh3 elmsh-sol-k">=</span> <span class="elmsh3 elmsh-sol-k">CToken</span>(<span class="elmsh1 elmsh-sol-n">0x3FDA</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-sol-dk">uint</span> reserves <span class="elmsh3 elmsh-sol-k">=</span> cToken.<span class="elmsh5 elmsh-sol-fe">totalReserves</span>();</div></code></pre><h4>Web3 1.0</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-js-dk">const</span> cToken <span class="elmsh3 elmsh-js-k">=</span> CEther.<span class="elmsh5 elmsh-js-fe">at</span>(<span class="elmsh1 elmsh-js-n">0x3FDB</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-js-dk">const</span> reserves <span class="elmsh3 elmsh-js-k">=</span> (<span class="elmsh3 elmsh-js-k">await</span> cToken.methods.<span class="elmsh5 elmsh-js-fe">totalReserves</span>().<span class="elmsh5 elmsh-js-fe">call</span>());</div></code></pre></section><section id="reserve-factor"><h2 class="subheader">Reserve Factor</h2><p>The reserve factor defines the portion of borrower interest that is converted into <a href="#total-reserves">reserves</a>.</p><h4>CErc20 / CEther</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-sol-dk">function</span> <span class="elmsh5 elmsh-sol-f">reserveFactorMantissa</span>() <span class="elmsh5 elmsh-sol-fe">returns</span> (<span class="elmsh4 elmsh-sol-dk">uint</span>)</div></code></pre><div class="ul-container"><ul><li><span class="inline-code">RETURN</span>: The current reserve factor as an unsigned integer, scaled by 1e18.</li></ul></div><h4>Solidity</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh3 elmsh-sol-k">CErc20</span> cToken <span class="elmsh3 elmsh-sol-k">=</span> <span class="elmsh3 elmsh-sol-k">CToken</span>(<span class="elmsh1 elmsh-sol-n">0x3FDA</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-sol-dk">uint</span> reserveFactorMantissa <span class="elmsh3 elmsh-sol-k">=</span> cToken.<span class="elmsh5 elmsh-sol-fe">reserveFactorMantissa</span>();</div></code></pre><h4>Web3 1.0</h4><pre class="elmsh"><code><div class="elmsh-line" data-elmsh-lc="1"><span class="elmsh4 elmsh-js-dk">const</span> cToken <span class="elmsh3 elmsh-js-k">=</span> CEther.<span class="elmsh5 elmsh-js-fe">at</span>(<span class="elmsh1 elmsh-js-n">0x3FDB</span>...);
</div><div class="elmsh-line" data-elmsh-lc="2"><span class="elmsh4 elmsh-js-dk">const</span> reserveFactor <span class="elmsh3 elmsh-js-k">=</span> (<span class="elmsh3 elmsh-js-k">await</span> cToken.methods.<span class="elmsh5 elmsh-js-fe">reserveFactorMantissa</span>().<span class="elmsh5 elmsh-js-fe">call</span>()) <span class="elmsh3 elmsh-js-k">/</span> <span class="elmsh1 elmsh-js-n">1e18</span>;</div></code></pre></section></div></div></div></div><footer id="footer" class="landing"><div class="container-large"><div class="row top"><div class="col-sm-2 logo mobile-hide"><a href="../index.html" class="mark"></a></div><div class="col-xs-12 logo mobile-only"><a href="../index.html" class="brand"></a></div><div class="col-sm-8 col-xs-12 row links-holder"><div class="col-sm-3 col-xs-6 links"><p>Protocol</p><a href="../markets.html">Markets</a><a href="../prices.html">Prices</a><a href="../developers.html">Developers</a><a href="../docs.html">Docs</a></div><div class="col-sm-3 col-xs-6 links"><p>Governance</p><a href="../governance.html">Overview</a><a href="../governance/comp.html">COMP</a><a href="../governance/leaderboard.html">Leaderboard</a><a rel="external" href="https://www.comp.xyz/">Forums</a></div><div class="col-sm-3 col-xs-6 links"><p>Company</p><a href="../about.html">About</a><a href="../about.html#jobs">Careers</a></div></div><div class="mobile-hide col-xs-2 text-right"><a class="dapp button" rel="external" href="../../app.compound.finance/index.html">App</a></div></div><div class="bottom"><label class="small">© 2020 Compound Labs, Inc.</label><div class="social"><a class="icn discord" target="_blank" rel="external" href="https://discord.gg/cU7vmVW"></a><a class="icn github" target="_blank" rel="external" href="https://github.com/compound-finance/compound-protocol"></a><a class="icn medium" target="_blank" rel="external" href="https://medium.com/compound-finance"></a><a class="icn twitter" target="_blank" rel="external" href="https://twitter.com/compoundfinance"></a><div class="dropdown dropdown--network"><span class="dropdown__selected dropdown__selected--dark2"><span class="dot-indicator green"></span><label class="small">Mainnet</label></span><div class="dropdown__options dropdown__options--network dropdown__selected--dark2 "></div></div></div></div></div></footer></div><script src="../static/js/runtime_landing.20510066.js"></script><script src="../static/js/vendors_dapp_landing_polyfills.e9e68e69.chunk.js"></script><script src="../static/js/vendors_dapp_landing.2efa2a68.chunk.js"></script><script src="../static/js/landing.ce21e0fb.chunk.js"></script></body>
<!-- Mirrored from compound.finance/docs/ctokens by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 20 Nov 2020 22:06:21 GMT -->
</html>